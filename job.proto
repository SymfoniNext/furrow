syntax = "proto3";
package furrow;

message Job {
  string RequestID = 1; // Unique identifier for who sent the request (used just in log output)
  string Image = 2; // Docker image to use for executing the job

  repeated string Cmd = 3; // Command line arguments to pass to the Docker image
  repeated string Env = 4; // Environmental variables to be injected into the container

  string Notify = 5; // Implements a basic form of RPC (send message back to this tube) when job is complete (and containing all output from stdout)

  message Volume {
    string In = 1; // Location of the directory for the "in" folder.
    string Out = 2; // Location of the directory for the "out" folder.
  }
  Volume volumes = 7;
}


message Notification {
  uint64 ID = 1; // ID of the job the data belongs too
  string Data = 2; // Copy of the output generated by the job
}
